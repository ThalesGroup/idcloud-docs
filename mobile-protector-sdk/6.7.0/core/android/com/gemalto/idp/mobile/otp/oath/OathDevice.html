<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>OathDevice (Mobile Protector SDK Core Documentation (6.7.0))</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.gemalto.idp.mobile.otp.oath, interface: OathDevice">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.gemalto.idp.mobile.otp.oath</a></div>
<h1 title="Interface OathDevice" class="title">Interface OathDevice</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">OathDevice</span></div>
<div class="block">An interface defining a device that generates OATH based OTPs.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>4.0</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../../core/util/SecureString.html" title="interface in com.gemalto.idp.mobile.core.util">SecureString</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getHotp(com.gemalto.idp.mobile.authentication.AuthInput)" class="member-name-link">getHotp</a><wbr>(<a href="../../authentication/AuthInput.html" title="interface in com.gemalto.idp.mobile.authentication">AuthInput</a>&nbsp;authInput)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets an event based OTP (HOTP).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getLastOtpLifespan()" class="member-name-link">getLastOtpLifespan</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return lifespan of the last OTP computed by this device.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../../core/util/SecureString.html" title="interface in com.gemalto.idp.mobile.core.util">SecureString</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getOcraOtp(com.gemalto.idp.mobile.authentication.AuthInput,com.gemalto.idp.mobile.core.util.SecureByteArray,com.gemalto.idp.mobile.core.util.SecureByteArray,com.gemalto.idp.mobile.core.util.SecureByteArray,com.gemalto.idp.mobile.core.util.SecureByteArray)" class="member-name-link">getOcraOtp</a><wbr>(<a href="../../authentication/AuthInput.html" title="interface in com.gemalto.idp.mobile.authentication">AuthInput</a>&nbsp;authInput,
 <a href="../../core/util/SecureByteArray.html" title="interface in com.gemalto.idp.mobile.core.util">SecureByteArray</a>&nbsp;serverChallengeQuestion,
 <a href="../../core/util/SecureByteArray.html" title="interface in com.gemalto.idp.mobile.core.util">SecureByteArray</a>&nbsp;clientChallengeQuestion,
 <a href="../../core/util/SecureByteArray.html" title="interface in com.gemalto.idp.mobile.core.util">SecureByteArray</a>&nbsp;passwordHash,
 <a href="../../core/util/SecureByteArray.html" title="interface in com.gemalto.idp.mobile.core.util">SecureByteArray</a>&nbsp;session)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets an OCRA OTP.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../../core/util/SecureString.html" title="interface in com.gemalto.idp.mobile.core.util">SecureString</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getOcraPasswordHash(com.gemalto.idp.mobile.core.util.SecureString)" class="member-name-link">getOcraPasswordHash</a><wbr>(<a href="../../core/util/SecureString.html" title="interface in com.gemalto.idp.mobile.core.util">SecureString</a>&nbsp;password)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get password hash value according the algorithm defined by settings.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../../core/util/SecureString.html" title="interface in com.gemalto.idp.mobile.core.util">SecureString</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getTotp(com.gemalto.idp.mobile.authentication.AuthInput)" class="member-name-link">getTotp</a><wbr>(<a href="../../authentication/AuthInput.html" title="interface in com.gemalto.idp.mobile.authentication">AuthInput</a>&nbsp;authInput)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets a time based OTP (TOTP).</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getHotp(com.gemalto.idp.mobile.authentication.AuthInput)">
<h3>getHotp</h3>
<div class="member-signature"><span class="return-type"><a href="../../core/util/SecureString.html" title="interface in com.gemalto.idp.mobile.core.util">SecureString</a></span>&nbsp;<span class="element-name">getHotp</span><wbr><span class="parameters">(<a href="../../authentication/AuthInput.html" title="interface in com.gemalto.idp.mobile.authentication">AuthInput</a>&nbsp;authInput)</span>
              throws <span class="exceptions"><a href="../../core/IdpException.html" title="class in com.gemalto.idp.mobile.core">IdpException</a></span></div>
<div class="block">Gets an event based OTP (HOTP).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>authInput</code> - the AuthInput</dd>
<dt>Returns:</dt>
<dd>the OTP</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - when the associated token has the
             <a href="OathToken.TokenCapability.html#DUAL_SEED"><code>OathToken.TokenCapability.DUAL_SEED</code></a>
             capability because only time based algorithms are supported
             for this capability.</dd>
<dd><code><a href="../../core/IdpRuntimeException.html" title="class in com.gemalto.idp.mobile.core">IdpRuntimeException</a></code> - when there is a cryptography operation failure.</dd>
<dd><code><a href="../../core/IdpException.html" title="class in com.gemalto.idp.mobile.core">IdpException</a></code> - this is generic exception, you can directly catch this
             exception or catch each specific exception below.</dd>
<dd><code><a href="../../core/IdpStorageException.html" title="class in com.gemalto.idp.mobile.core">IdpStorageException</a></code> - when there is a database operation failure.</dd>
<dd><code><a href="../../core/devicefingerprint/DeviceFingerprintException.html" title="class in com.gemalto.idp.mobile.core.devicefingerprint">DeviceFingerprintException</a></code> - when the token's fingerprint checksum does not match.</dd>
<dd><code><a href="../../core/passwordmanager/PasswordManagerException.html" title="class in com.gemalto.idp.mobile.core.passwordmanager">PasswordManagerException</a></code> - when the TOKEN domain is not logged in (using one of the
             password managers)</dd>
<dd><code><a href="../../authentication/IdpAuthException.html" title="class in com.gemalto.idp.mobile.authentication">IdpAuthException</a></code> - when the TOKEN is not migrated</dd>
<dt>Since:</dt>
<dd>4.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTotp(com.gemalto.idp.mobile.authentication.AuthInput)">
<h3>getTotp</h3>
<div class="member-signature"><span class="return-type"><a href="../../core/util/SecureString.html" title="interface in com.gemalto.idp.mobile.core.util">SecureString</a></span>&nbsp;<span class="element-name">getTotp</span><wbr><span class="parameters">(<a href="../../authentication/AuthInput.html" title="interface in com.gemalto.idp.mobile.authentication">AuthInput</a>&nbsp;authInput)</span>
              throws <span class="exceptions"><a href="../../core/IdpException.html" title="class in com.gemalto.idp.mobile.core">IdpException</a></span></div>
<div class="block">Gets a time based OTP (TOTP).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>authInput</code> - the AuthInput</dd>
<dt>Returns:</dt>
<dd>the OTP</dd>
<dt>Throws:</dt>
<dd><code><a href="../../core/IdpRuntimeException.html" title="class in com.gemalto.idp.mobile.core">IdpRuntimeException</a></code> - when there is a cryptography operation failure.</dd>
<dd><code><a href="../../core/IdpException.html" title="class in com.gemalto.idp.mobile.core">IdpException</a></code> - this is generic exception, you can directly catch this exception or catch each specific exception below.</dd>
<dd><code><a href="../../core/IdpStorageException.html" title="class in com.gemalto.idp.mobile.core">IdpStorageException</a></code> - when there is a database operation failure</dd>
<dd><code><a href="../../core/devicefingerprint/DeviceFingerprintException.html" title="class in com.gemalto.idp.mobile.core.devicefingerprint">DeviceFingerprintException</a></code> - when the token's fingerprint checksum does not match.</dd>
<dd><code><a href="../../core/passwordmanager/PasswordManagerException.html" title="class in com.gemalto.idp.mobile.core.passwordmanager">PasswordManagerException</a></code> - when the TOKEN domain is not logged in (using one of the password managers)</dd>
<dd><code><a href="../../authentication/IdpAuthException.html" title="class in com.gemalto.idp.mobile.authentication">IdpAuthException</a></code> - when the TOKEN is not migrated</dd>
<dt>Since:</dt>
<dd>4.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getOcraOtp(com.gemalto.idp.mobile.authentication.AuthInput,com.gemalto.idp.mobile.core.util.SecureByteArray,com.gemalto.idp.mobile.core.util.SecureByteArray,com.gemalto.idp.mobile.core.util.SecureByteArray,com.gemalto.idp.mobile.core.util.SecureByteArray)">
<h3>getOcraOtp</h3>
<div class="member-signature"><span class="return-type"><a href="../../core/util/SecureString.html" title="interface in com.gemalto.idp.mobile.core.util">SecureString</a></span>&nbsp;<span class="element-name">getOcraOtp</span><wbr><span class="parameters">(<a href="../../authentication/AuthInput.html" title="interface in com.gemalto.idp.mobile.authentication">AuthInput</a>&nbsp;authInput,
 <a href="../../core/util/SecureByteArray.html" title="interface in com.gemalto.idp.mobile.core.util">SecureByteArray</a>&nbsp;serverChallengeQuestion,
 <a href="../../core/util/SecureByteArray.html" title="interface in com.gemalto.idp.mobile.core.util">SecureByteArray</a>&nbsp;clientChallengeQuestion,
 <a href="../../core/util/SecureByteArray.html" title="interface in com.gemalto.idp.mobile.core.util">SecureByteArray</a>&nbsp;passwordHash,
 <a href="../../core/util/SecureByteArray.html" title="interface in com.gemalto.idp.mobile.core.util">SecureByteArray</a>&nbsp;session)</span>
                 throws <span class="exceptions"><a href="../../core/IdpException.html" title="class in com.gemalto.idp.mobile.core">IdpException</a></span></div>
<div class="block">Gets an OCRA OTP.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>authInput</code> - the AuthInput</dd>
<dd><code>serverChallengeQuestion</code> - the server question. mandatory field, cannot be null</dd>
<dd><code>clientChallengeQuestion</code> - the client question, <code>null</code> if not used</dd>
<dd><code>passwordHash</code> - the hash value of password, <code>null</code> if not used. if
            used, length must be compliant with hash algorithm defined in
            Ocra settings.</dd>
<dd><code>session</code> - the session data, <code>null</code> if not used. The
            <a href="../../core/util/SecureString.html" title="interface in com.gemalto.idp.mobile.core.util"><code>SecureString</code></a> session
            is expected to be created from a string using the "UTF-8"
            encoding (see
            <a href="../../core/util/SecureContainerFactory.html#fromString(java.lang.String)"><code>SecureContainerFactory.fromString(java.lang.String)</code></a>
            or its variants). This input must not be encoded by the caller
            in any way. Internally the session will be padded with leading
            null characters until it reaches the session byte length (e.g.
            session length of 5 and the string input of "info" results in
            00696E666F).</dd>
<dt>Returns:</dt>
<dd>the OTP</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - when the serverChallengeQuestion or the
             clientChallengeQuestion is longer than the value set by
             <a href="soft/SoftOathSettings.html#setOcraMaximumChallengeQuestionLength(int)"><code>SoftOathSettings.setOcraMaximumChallengeQuestionLength(int)</code></a>
             .</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - when the passwordHash is null but the value set by
             <a href="soft/SoftOathSettings.html#setOcraPasswordHashAlgorithm(com.gemalto.idp.mobile.otp.oath.soft.SoftOathSettings.OcraPasswordHashAlgorithm)"><code>SoftOathSettings.setOcraPasswordHashAlgorithm(com.gemalto.idp.mobile.otp.oath.soft.SoftOathSettings.OcraPasswordHashAlgorithm)</code></a>
             is not NONE or when the passwordHash length is not compliant
             with the value returned by
             <a href="soft/SoftOathSettings.html#setOcraPasswordHashAlgorithm(com.gemalto.idp.mobile.otp.oath.soft.SoftOathSettings.OcraPasswordHashAlgorithm)"><code>SoftOathSettings.setOcraPasswordHashAlgorithm(com.gemalto.idp.mobile.otp.oath.soft.SoftOathSettings.OcraPasswordHashAlgorithm)</code></a>
             .</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - when the session is not null but the value set by
             <a href="soft/SoftOathSettings.html#setOcraSessionLength(int)"><code>SoftOathSettings.setOcraSessionLength(int)</code></a>
             is <code>-1</code> or vice versa.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - when the session's byte length is longer than the value set
             by
             <a href="soft/SoftOathSettings.html#setOcraSessionLength(int)"><code>SoftOathSettings.setOcraSessionLength(int)</code></a>
             .</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - when the session cannot be decoded using UTF-8.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - when the token's key length is not compatible with the OCRA
             hash algorithm set by
             <a href="soft/SoftOathSettings.html#setOcraHashAlgorithm(com.gemalto.idp.mobile.otp.oath.soft.SoftOathSettings.OathHashAlgorithm)"><code>SoftOathSettings.setOcraHashAlgorithm(com.gemalto.idp.mobile.otp.oath.soft.SoftOathSettings.OathHashAlgorithm)</code></a>
             .</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - when the associated token has the
             <a href="OathToken.TokenCapability.html#DUAL_SEED"><code>OathToken.TokenCapability.DUAL_SEED</code></a>
             capability and the OCRA suite is event based because only
             time based algorithms are supported for this capability.</dd>
<dd><code><a href="../../core/IdpRuntimeException.html" title="class in com.gemalto.idp.mobile.core">IdpRuntimeException</a></code> - when there is a cryptography operation failure.</dd>
<dd><code><a href="../../core/IdpException.html" title="class in com.gemalto.idp.mobile.core">IdpException</a></code> - this is generic exception, you can directly catch this
             exception or catch each specific exception below.</dd>
<dd><code><a href="../../core/IdpStorageException.html" title="class in com.gemalto.idp.mobile.core">IdpStorageException</a></code> - when there is a database operation failure.</dd>
<dd><code><a href="../../core/devicefingerprint/DeviceFingerprintException.html" title="class in com.gemalto.idp.mobile.core.devicefingerprint">DeviceFingerprintException</a></code> - when the token's fingerprint checksum does not match.</dd>
<dd><code><a href="../../core/passwordmanager/PasswordManagerException.html" title="class in com.gemalto.idp.mobile.core.passwordmanager">PasswordManagerException</a></code> - when the TOKEN domain is not logged in (using one of the
             password managers).</dd>
<dd><code><a href="../../authentication/IdpAuthException.html" title="class in com.gemalto.idp.mobile.authentication">IdpAuthException</a></code> - when the TOKEN is not migrated</dd>
<dt>Since:</dt>
<dd>4.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getOcraPasswordHash(com.gemalto.idp.mobile.core.util.SecureString)">
<h3>getOcraPasswordHash</h3>
<div class="member-signature"><span class="return-type"><a href="../../core/util/SecureString.html" title="interface in com.gemalto.idp.mobile.core.util">SecureString</a></span>&nbsp;<span class="element-name">getOcraPasswordHash</span><wbr><span class="parameters">(<a href="../../core/util/SecureString.html" title="interface in com.gemalto.idp.mobile.core.util">SecureString</a>&nbsp;password)</span></div>
<div class="block">Get password hash value according the algorithm defined by settings.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>password</code> - the password, can be <code>null</code>.</dd>
<dt>Returns:</dt>
<dd><ul>
         <li>the hash value of the password.
         <li> <code>null</code> if password is <code>null</code> or hash
         algorithm for Ocra password is set to
         <a href="soft/SoftOathSettings.OcraPasswordHashAlgorithm.html#NONE"><code>SoftOathSettings.OcraPasswordHashAlgorithm.NONE</code></a>
         by the device settings
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastOtpLifespan()">
<h3>getLastOtpLifespan</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">getLastOtpLifespan</span>()</div>
<div class="block">Return lifespan of the last OTP computed by this device.
 <p>
 The following example illustrates the usage:

 <pre>
   // Create OATH settings (see OathFactory)
   MutableSoftOathSettings oathSettings = ...

   // Create a OATH device (see OathFactory)
   OathDevice device = ...

   // Compute a time-based OTP with device
   device.getTotp(pin);

   // Each time getLastOtpLifespan is called, it returns the
   // remaining lifespan in seconds of the last time-based OTP. Lifespan is
   // computed with respect of device's settings (in this example it returns
   // the lifespan according to Gemalto device fixed settings, i.e. 30-seconds timestep).
   int lifespan = device.getLastOtpLifespan();
 </pre></div>
<dl class="notes">
<dt>Returns:</dt>
<dd><ul>
 <li> In case last OTP computed with this device is time-based
   <ul>
   <li> If positive, the last OTP is still valid according to the current
   time and device's timestep settings. The returned value indicates the
   remaining seconds before the OTP becomes obsolete.
   <li> If negative, the last OTP computed is obsolete. The absolute value
   indicates the time elasped since the OTP has become obsolete.
   </ul>
 </li>
 <li> In case last OTP computed with this device is event-based, or no OTP has been computed yet,
 the function returns Integer.MAX_VALUE.
 </ul></dd>
<dt>Since:</dt>
<dd>4.0</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
